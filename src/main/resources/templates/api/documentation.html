<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base/layout}" th:with="title='api documentation'">

<body>

<div layout:fragment="content">

    <div class="container bg-light mt-3 p-3">

        <h2>api documentstion</h2>

        <div class="p-3 mb-4">
            <h3>For none authorized users</h3>

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">add link</h5>

                    <p class="card-text">request
                        <code>
                            curl -i --header "Accept:application/json"
                            -X POST http://localhost:8080/api/link
                            -d "longUrl=some_url.com"
                        </code>

                    <p class="card-text">response
                        <code>
                            {"shortUrl": "xxx", "longUrl": "yyy"}
                        </code>
                    </p>
                </div>
            </div>
        </div>

        <div class="p-3">
            <h3>For authorized users</h3>

            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">login. save token to cookie</h5>

                    <p class="card-text">request
                        <code>curl -i -X POST
                            -d username=email -d password=pass
                            http://localhost:8080/user/login
                            -c cookies.txt
                        </code>
                    </p>
                    <p class="card-text">
                        response: if success code - 302
                    </p>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">add link with use cookie</h5>

                    <p class="card-text">request
                        <code>curl -i --header "Accept:application/json"
                            -X POST -b cookies.txt
                            http://localhost:8080/api/link
                            -d "longUrl=some_url.com"
                        </code>
                    </p>

                    <p class="card-text">response
                        <code>
                            {"shortUrl": "xxx", "longUrl": "yyy", "clicks": value, "created": date}
                        </code>
                    </p>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">view your links</h5>

                    <p class="card-text">request
                        <code>curl -i --header "Accept:application/json"
                            -X POST -b cookies.txt
                            http://localhost:8080/api/user
                        </code>
                    </p>

                    <p class="card-text">response array links</p>
                </div>
            </div>


        </div>
    </div>


</body>
</html>